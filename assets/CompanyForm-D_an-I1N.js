import{u as g,r as x,j as e,y as o}from"./index-aOcyIKwK.js";import{u as j,a as v}from"./chunk-K6AXKMTT-BRQC6kVR.js";import"./vendor-CvRECnwm.js";const f=["1 day","2 days","3 days","1 week","2 weeks","3 weeks","1 month","2 months","3 months"];function I(){var c,u;const i=j(),d=v(),{dispatch:m}=g(),l=((c=d.state)==null?void 0:c.isEditing)||!1,p=((u=d.state)==null?void 0:u.company)||{name:"",location:"",linkedIn:"",emails:"",phone:"",comments:"",periodicity:"2 weeks"},[s,n]=x.useState(p),[t,b]=x.useState({}),h=()=>{const a={};return s.name.trim()||(a.name="Name is required"),s.location.trim()||(a.location="Location is required"),s.linkedIn&&!s.linkedIn.includes("linkedin.com")&&(a.linkedIn="Invalid LinkedIn URL"),s.emails&&!s.emails.split(",").every(r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.trim()))&&(a.emails="Invalid email format"),a},y=a=>{a.preventDefault();const r=h();if(Object.keys(r).length>0){b(r);return}try{l?(m({type:"UPDATE_COMPANY",payload:s}),o.success("Company updated successfully")):(m({type:"ADD_COMPANY",payload:s}),o.success("Company added successfully")),i("/admin")}catch{o.error("An error occurred")}};return e.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:l?"Edit Company":"Add Company"}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Name *"}),e.jsx("input",{type:"text",value:s.name,onChange:a=>n({...s,name:a.target.value}),className:`w-full p-2 border rounded ${t.name?"border-red-500":"border-gray-300"}`}),t.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location *"}),e.jsx("input",{type:"text",value:s.location,onChange:a=>n({...s,location:a.target.value}),className:`w-full p-2 border rounded ${t.location?"border-red-500":"border-gray-300"}`}),t.location&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"LinkedIn Profile"}),e.jsx("input",{type:"text",value:s.linkedIn,onChange:a=>n({...s,linkedIn:a.target.value}),className:`w-full p-2 border rounded ${t.linkedIn?"border-red-500":"border-gray-300"}`}),t.linkedIn&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.linkedIn})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Addresses (comma-separated)"}),e.jsx("input",{type:"text",value:s.emails,onChange:a=>n({...s,emails:a.target.value}),className:`w-full p-2 border rounded ${t.emails?"border-red-500":"border-gray-300"}`}),t.emails&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.emails})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Numbers (comma-separated)"}),e.jsx("input",{type:"text",value:s.phone,onChange:a=>n({...s,phone:a.target.value}),className:"w-full p-2 border rounded border-gray-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Communication Periodicity *"}),e.jsx("select",{value:s.periodicity,onChange:a=>n({...s,periodicity:a.target.value}),className:"w-full p-2 border rounded border-gray-300",children:f.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Comments"}),e.jsx("textarea",{value:s.comments,onChange:a=>n({...s,comments:a.target.value}),className:"w-full p-2 border rounded border-gray-300 h-32"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600",children:l?"Save Changes":"Add Company"}),e.jsx("button",{type:"button",onClick:()=>i("/admin"),className:"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]})]})}export{I as default};
